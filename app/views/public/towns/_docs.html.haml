:scss
  .panel-group {
    .panel-heading + .panel-collapse {
      .panel-body{
        border-top: none;
      }
    }
  }
  .custom-panel{
    /* -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05); */
    box-shadow: none;
    .panel-heading{
      .panel-title{
        a{
          text-decoration: none;
          .toggle-by-key{
            font-weight: bold;
            margin-right: 10px;
            text-align: center;
            width: 15px;
            display: inline-block;
            background-color: black;
            color: white;
          }
          .doc-info-title{
            display: inline-block;
          }
        }
      }
    }
    .panel-collapse{
      .custom-panel-body{
        border: none;
        padding-bottom: 0px;
      }
      .docs-panel-body{
        padding: 15px 0 0 0;
        .doc-wrapper{
          margin: 10px 0;
          height: 60px;
          overflow: hidden;
          .doc-img{

          }
          .doc-title{
            color: blue;
          }
        }
      }
    }

  }

.bootstrap_flash
  = bootstrap_flash
.row
  .pull-left
    =render partial: 'widgets/town_profile/module_breadcrumbs',locals: { init_text:  t('public.towns.portfolio.documents') }
  .pull-right

.row-eq-height
  - @documents.each do |year,documents_by_year|
    .panel-group.main-panel{id: "accordion_#{year}","aria-multiselectable" => "true", :role => "tablist"}
      .panel.custom-panel
        .panel-heading{id: "heading_#{year}",:role => "tab"}
          %h4.panel-title
            %a.collapsed{"aria-controls" => "collapse_#{year}", "aria-expanded" => "false", "data-parent" => "#accordion_#{year}", "data-toggle" => "collapse", :href => "#collapse_#{year}", :role => "button"}
              .toggle-by-key
                +
              .doc-info-title
                = year
        .panel-collapse.collapse{id: "collapse_#{year}","aria-labelledby" => "heading_#{year}", :role => "tabpanel"}
          .panel-body.custom-panel-body
            - documents_by_year.each do |group_title , documents_by_group |
              -branch_id = documents_by_group.first.branch_id.to_s
              .panel-group{id: "accordion_#{year}_#{branch_id}", "aria-multiselectable" => "true", :role => "tablist"}
                .panel.custom-panel
                  .panel-heading{ id: "heading_#{year}_#{branch_id}", :role => "tab"}
                    %h4.panel-title
                      %a{"aria-controls" => "collapseOne", "aria-expanded" => "true", "data-parent" => "#accordion_#{year}_#{branch_id}", "data-toggle" => "collapse", :href => "#collapse_#{branch_id}_#{year}", :role => "button"}
                        .toggle-by-key
                          +
                        .doc-info-title
                          = group_title
                  .panel-collapse.collapse{id: "collapse_#{branch_id}_#{year}","aria-labelledby" => "heading_#{year}_#{branch_id}", :role => "tabpanel"}
                    .panel-body.custom-panel-body.docs-panel-body
                      -documents_by_group.each do |document|
                        -#-if document.doc_file?
                        = link_to documentation_document_download_path(document) do
                          .col-md-3.doc-wrapper
                            .doc-img.col-xs-4
                              -#= image_tag ('new_design/icons/file-exel.svg')
                              = image_tag(get_image_path_by_doc_type(document.doc_file))
                            .doc-title.col-xs-8
                              = get_beautiful_doc_title(document.title)

:javascript
  $(document).ready(function() {
    $('a[data-toggle="collapse"]').click(function(){
      var active_dom = $(document).find($(this).attr('href'));
      var sign_dom = $(this).find('.toggle-by-key');
      var value = $.trim(sign_dom.html())
      if(value == '+'){
        sign_dom.html('-');
      }else if(value == '-'){
        sign_dom.html('+');
      }
      active_dom.toggleClass('opened');
    });
    $('.main-panel').first().find('a[data-toggle="collapse"]').first().trigger('click');
    $('.opened').find('a[data-toggle="collapse"]').first().trigger('click');
    // $('.custom-panel').first().find('.in[role="tabpanel"]').first().find('a[data-toggle="collapse"]').first().trigger('click');


  });
