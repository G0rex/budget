#timeline-embed{:calendar_id => @calendar.id, :curr_slide_num => timeline_currentevent_num(@calendar.events) - 1 }

:javascript
  var node = document.createElement("script");
  $.extend(node, {
      type: 'text/javascript',
      charset: 'utf-8',
      async: false,
      defer: true,
      src: '/assets/timelinejs/storyjs-embed.js'
  });
  $(node).bind('load', function() {
    var slide_num = $('#timeline-embed').attr('curr_slide_num')
    var source = "#{public_timelinejs_path}.json?calendar_id=" + $('#timeline-embed').attr('calendar_id')
    createStoryJS({
      width:              '100%',
      height:             '600',

      source:             source,

      embed_id:           'timeline-embed',               //OPTIONAL USE A DIFFERENT DIV ID FOR EMBED
      start_at_end:       false,                          //OPTIONAL START AT LATEST DATE
      start_at_slide:     slide_num,                            //OPTIONAL START AT SPECIFIC SLIDE
      start_zoom_adjust:  '4',                            //OPTIONAL TWEAK THE DEFAULT ZOOM LEVEL
      hash_bookmark:      true,                           //OPTIONAL LOCATION BAR HASHES
      font:               'Bevan-PotanoSans',             //OPTIONAL FONT
      debug:              false,                           //OPTIONAL DEBUG TO CONSOLE
      lang:               'uk',                           //OPTIONAL LANGUAGE
      maptype:            'watercolor',                   //OPTIONAL MAP STYLE
    })
  })
  $('#timeline-embed')[0].appendChild(node);

