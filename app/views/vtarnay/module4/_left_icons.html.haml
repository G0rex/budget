#icons

:javascript
  function aIcons() {

    var margin = {top: 20, right: 20, bottom: 30, left: 50},
        width, height

    function hide() {
      $("#icons").html('')
    }

    var self = this;

    return {
      initialize: function(data, options) {
        self.data = data;

        $("#icons").height(options.height || 500)
        self.clickCallback = options.clickCallback
      },
      hide: hide,
      show: function(year, month) {
        hide();

        if (self.data == null)
          return;

        var nodes = [];

        div = '<table class="table table-hover">';
        $.each(self.data.children, function( index, value ) {
          var totalSize = self.data["amount"];

          $.each(value.children, function( key, val ) {
              nodes.push(val);
              div += '<tr>'
                + '<td class="col-sm-8"><i class="fa ' + val.icon + '"></i> '
                + val.label + '</td>'
                + '<td class="col-sm-2" align="right">' + aVisify.helpers.formatNumber(val.amount) + '</td>'
                + '<td class="col-sm-2">' + aVisify.helpers.getPercentageString(val , totalSize) + '</td>'
                + '</tr>';
            })
        });
        div += '</table>';

        $('#icons').html(div);

        //console.log(nodes);

        d3.selectAll("#icons tr")
            .datum(nodes)
            .style("cursor", "pointer")
            .attr("class", function(d ,i) { return "" + d[i].id; })
            .on("click", function(d, i) {
                               $("#icons tr").attr("style","cursor: pointer");
                               $(this).attr("style","background-color: #ecf0f1");
                               if (self.clickCallback){
                                self.clickCallback(d[i]);
                               }
                             });
      },
    }
  }